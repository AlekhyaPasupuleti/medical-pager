{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport emojiRegex from 'emoji-regex';\nimport * as linkify from 'linkifyjs';\n//@ts-expect-error\nimport findAndReplace from 'mdast-util-find-and-replace';\nimport RootReactMarkdown from 'react-markdown';\nimport ReactMarkdown from 'react-markdown/with-html';\nimport uniqBy from 'lodash.uniqby';\nexport var isOnlyEmojis = function (text) {\n  if (!text) return false;\n  var noEmojis = text.replace(emojiRegex(), '');\n  var noSpace = noEmojis.replace(/[\\s\\n]/gm, '');\n  return !noSpace;\n};\nvar allowedMarkups = ['html',\n// @ts-expect-error\n'root', 'text', 'break', 'paragraph', 'emphasis', 'strong', 'link', 'list', 'listItem', 'code', 'inlineCode', 'blockquote', 'delete'];\nvar matchMarkdownLinks = function (message) {\n  var regexMdLinks = /\\[([^[]+)\\](\\(.*\\))/gm;\n  var matches = message.match(regexMdLinks);\n  var singleMatch = /\\[([^[]+)\\]\\((.*)\\)/;\n  var links = matches ? matches.map(function (match) {\n    var i = singleMatch.exec(match);\n    return i && [i[1], i[2]];\n  }) : [];\n  return links.flat();\n};\nvar messageCodeBlocks = function (message) {\n  var codeRegex = /```[a-z]*\\n[\\s\\S]*?\\n```|`[a-z]*[\\s\\S]*?`/gm;\n  var matches = message.match(codeRegex);\n  return matches || [];\n};\nvar markDownRenderers = {\n  // eslint-disable-next-line react/display-name\n  link: function (props) {\n    var children = props.children,\n      href = props.href;\n    var isEmail = href === null || href === void 0 ? void 0 : href.startsWith('mailto:');\n    var isUrl = href === null || href === void 0 ? void 0 : href.startsWith('http');\n    if (!href || !isEmail && !isUrl) {\n      return children;\n    }\n    return React.createElement(\"a\", {\n      className: \"\" + (isUrl ? 'str-chat__message-url-link' : ''),\n      href: href,\n      rel: 'nofollow noreferrer noopener',\n      target: '_blank'\n    }, children);\n  },\n  span: 'span'\n};\nvar emojiMarkdownPlugin = function () {\n  function replace(match) {\n    return {\n      children: [{\n        type: 'text',\n        value: match\n      }],\n      className: 'inline-text-emoji',\n      type: 'span'\n    };\n  }\n  var transform = function (markdownAST) {\n    findAndReplace(markdownAST, emojiRegex(), replace);\n    return markdownAST;\n  };\n  return transform;\n};\nvar mentionsMarkdownPlugin = function (mentioned_users) {\n  return function () {\n    var mentioned_usernames = mentioned_users.map(function (user) {\n      return user.name || user.id;\n    }).filter(Boolean).map(escapeRegExp);\n    function replace(match) {\n      var usernameOrId = match.replace('@', '');\n      var user = mentioned_users.find(function (_a) {\n        var id = _a.id,\n          name = _a.name;\n        return name === usernameOrId || id === usernameOrId;\n      });\n      return {\n        children: [{\n          type: 'text',\n          value: match\n        }],\n        mentioned_user: user,\n        type: 'mention'\n      };\n    }\n    var transform = function (markdownAST) {\n      if (!mentioned_usernames.length) {\n        return markdownAST;\n      }\n      var mentionedUsersRegex = new RegExp(mentioned_usernames.map(function (username) {\n        return \"@\" + username;\n      }).join('|'), 'g');\n      findAndReplace(markdownAST, mentionedUsersRegex, replace);\n      return markdownAST;\n    };\n    return transform;\n  };\n};\nvar Mention = function (props) {\n  return React.createElement(\"span\", {\n    className: 'str-chat__message-mention'\n  }, props.children);\n};\nexport var renderText = function (text, mentioned_users, options) {\n  if (options === void 0) {\n    options = {};\n  }\n  // take the @ mentions and turn them into markdown?\n  // translate links\n  if (!text) return null;\n  var newText = text;\n  var markdownLinks = matchMarkdownLinks(newText);\n  var codeBlocks = messageCodeBlocks(newText);\n  var detectHttp = /(http(s?):\\/\\/)?(www\\.)?/;\n  // extract all valid links/emails within text and replace it with proper markup\n  uniqBy(linkify.find(newText), 'value').forEach(function (_a) {\n    var href = _a.href,\n      type = _a.type,\n      value = _a.value;\n    var linkIsInBlock = codeBlocks.some(function (block) {\n      return block === null || block === void 0 ? void 0 : block.includes(value);\n    });\n    // check if message is already  markdown\n    var noParsingNeeded = markdownLinks && markdownLinks.filter(function (text) {\n      var strippedHref = href === null || href === void 0 ? void 0 : href.replace(detectHttp, '');\n      var strippedText = text === null || text === void 0 ? void 0 : text.replace(detectHttp, '');\n      if (!strippedHref || !strippedText) return false;\n      return strippedHref.includes(strippedText) || strippedText.includes(strippedHref);\n    });\n    if (noParsingNeeded.length > 0 || linkIsInBlock) return;\n    var displayLink = type === 'email' ? value : value.replace(detectHttp, '');\n    newText = newText.replace(new RegExp(escapeRegExp(value), 'g'), \"[\" + displayLink + \"](\" + encodeURI(href) + \")\");\n  });\n  var plugins = [emojiMarkdownPlugin];\n  if (mentioned_users === null || mentioned_users === void 0 ? void 0 : mentioned_users.length) {\n    plugins.push(mentionsMarkdownPlugin(mentioned_users));\n  }\n  var renderers = __assign(__assign({\n    mention: Mention\n  }, markDownRenderers), options.customMarkDownRenderers);\n  return React.createElement(ReactMarkdown, {\n    allowedTypes: allowedMarkups,\n    escapeHtml: true,\n    plugins: plugins,\n    renderers: renderers,\n    source: newText,\n    transformLinkUri: function (uri) {\n      return uri.startsWith('app://') ? uri : RootReactMarkdown.uriTransformer(uri);\n    },\n    unwrapDisallowed: true\n  });\n};\nexport function escapeRegExp(text) {\n  return text.replace(/[-[\\]{}()*+?.,\\\\^$|#]/g, '\\\\$&');\n}\nfunction S4() {\n  return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);\n}\n// https://stackoverflow.com/a/6860916/2570866\nexport function generateRandomId() {\n  // prettier-ignore\n  return S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4();\n}\nexport var smartRender = function (ElementOrComponentOrLiteral, props, fallback) {\n  if (ElementOrComponentOrLiteral === undefined && fallback) {\n    ElementOrComponentOrLiteral = fallback;\n  }\n  if (React.isValidElement(ElementOrComponentOrLiteral)) {\n    // Flow cast through any, to make flow believe it's a React.Element\n    var element = ElementOrComponentOrLiteral;\n    return element;\n  }\n  // Flow cast through any to remove React.Element after previous check\n  var ComponentOrLiteral = ElementOrComponentOrLiteral;\n  if (typeof ComponentOrLiteral === 'string' || typeof ComponentOrLiteral === 'number' || typeof ComponentOrLiteral === 'boolean' || ComponentOrLiteral == null) {\n    return ComponentOrLiteral;\n  }\n  return React.createElement(ComponentOrLiteral, __assign({}, props));\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","emojiRegex","linkify","findAndReplace","RootReactMarkdown","ReactMarkdown","uniqBy","isOnlyEmojis","text","noEmojis","replace","noSpace","allowedMarkups","matchMarkdownLinks","message","regexMdLinks","matches","match","singleMatch","links","map","exec","flat","messageCodeBlocks","codeRegex","markDownRenderers","link","props","children","href","isEmail","startsWith","isUrl","createElement","className","rel","target","span","emojiMarkdownPlugin","type","value","transform","markdownAST","mentionsMarkdownPlugin","mentioned_users","mentioned_usernames","user","name","id","filter","Boolean","escapeRegExp","usernameOrId","find","_a","mentioned_user","mentionedUsersRegex","RegExp","username","join","Mention","renderText","options","newText","markdownLinks","codeBlocks","detectHttp","forEach","linkIsInBlock","some","block","includes","noParsingNeeded","strippedHref","strippedText","displayLink","encodeURI","plugins","push","renderers","mention","customMarkDownRenderers","allowedTypes","escapeHtml","source","transformLinkUri","uri","uriTransformer","unwrapDisallowed","S4","Math","random","toString","substring","generateRandomId","smartRender","ElementOrComponentOrLiteral","fallback","undefined","isValidElement","element","ComponentOrLiteral"],"sources":["C:/Users/alekh/Desktop/Medical-App/client/node_modules/stream-chat-react/dist/utils.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React from 'react';\nimport emojiRegex from 'emoji-regex';\nimport * as linkify from 'linkifyjs';\n//@ts-expect-error\nimport findAndReplace from 'mdast-util-find-and-replace';\nimport RootReactMarkdown from 'react-markdown';\nimport ReactMarkdown from 'react-markdown/with-html';\nimport uniqBy from 'lodash.uniqby';\nexport var isOnlyEmojis = function (text) {\n    if (!text)\n        return false;\n    var noEmojis = text.replace(emojiRegex(), '');\n    var noSpace = noEmojis.replace(/[\\s\\n]/gm, '');\n    return !noSpace;\n};\nvar allowedMarkups = [\n    'html',\n    // @ts-expect-error\n    'root',\n    'text',\n    'break',\n    'paragraph',\n    'emphasis',\n    'strong',\n    'link',\n    'list',\n    'listItem',\n    'code',\n    'inlineCode',\n    'blockquote',\n    'delete',\n];\nvar matchMarkdownLinks = function (message) {\n    var regexMdLinks = /\\[([^[]+)\\](\\(.*\\))/gm;\n    var matches = message.match(regexMdLinks);\n    var singleMatch = /\\[([^[]+)\\]\\((.*)\\)/;\n    var links = matches\n        ? matches.map(function (match) {\n            var i = singleMatch.exec(match);\n            return i && [i[1], i[2]];\n        })\n        : [];\n    return links.flat();\n};\nvar messageCodeBlocks = function (message) {\n    var codeRegex = /```[a-z]*\\n[\\s\\S]*?\\n```|`[a-z]*[\\s\\S]*?`/gm;\n    var matches = message.match(codeRegex);\n    return matches || [];\n};\nvar markDownRenderers = {\n    // eslint-disable-next-line react/display-name\n    link: function (props) {\n        var children = props.children, href = props.href;\n        var isEmail = href === null || href === void 0 ? void 0 : href.startsWith('mailto:');\n        var isUrl = href === null || href === void 0 ? void 0 : href.startsWith('http');\n        if (!href || (!isEmail && !isUrl)) {\n            return children;\n        }\n        return (React.createElement(\"a\", { className: \"\" + (isUrl ? 'str-chat__message-url-link' : ''), href: href, rel: 'nofollow noreferrer noopener', target: '_blank' }, children));\n    },\n    span: 'span',\n};\nvar emojiMarkdownPlugin = function () {\n    function replace(match) {\n        return {\n            children: [{ type: 'text', value: match }],\n            className: 'inline-text-emoji',\n            type: 'span',\n        };\n    }\n    var transform = function (markdownAST) {\n        findAndReplace(markdownAST, emojiRegex(), replace);\n        return markdownAST;\n    };\n    return transform;\n};\nvar mentionsMarkdownPlugin = function (mentioned_users) { return function () {\n    var mentioned_usernames = mentioned_users\n        .map(function (user) { return user.name || user.id; })\n        .filter(Boolean)\n        .map(escapeRegExp);\n    function replace(match) {\n        var usernameOrId = match.replace('@', '');\n        var user = mentioned_users.find(function (_a) {\n            var id = _a.id, name = _a.name;\n            return name === usernameOrId || id === usernameOrId;\n        });\n        return {\n            children: [{ type: 'text', value: match }],\n            mentioned_user: user,\n            type: 'mention',\n        };\n    }\n    var transform = function (markdownAST) {\n        if (!mentioned_usernames.length) {\n            return markdownAST;\n        }\n        var mentionedUsersRegex = new RegExp(mentioned_usernames.map(function (username) { return \"@\" + username; }).join('|'), 'g');\n        findAndReplace(markdownAST, mentionedUsersRegex, replace);\n        return markdownAST;\n    };\n    return transform;\n}; };\nvar Mention = function (props) { return React.createElement(\"span\", { className: 'str-chat__message-mention' }, props.children); };\nexport var renderText = function (text, mentioned_users, options) {\n    if (options === void 0) { options = {}; }\n    // take the @ mentions and turn them into markdown?\n    // translate links\n    if (!text)\n        return null;\n    var newText = text;\n    var markdownLinks = matchMarkdownLinks(newText);\n    var codeBlocks = messageCodeBlocks(newText);\n    var detectHttp = /(http(s?):\\/\\/)?(www\\.)?/;\n    // extract all valid links/emails within text and replace it with proper markup\n    uniqBy(linkify.find(newText), 'value').forEach(function (_a) {\n        var href = _a.href, type = _a.type, value = _a.value;\n        var linkIsInBlock = codeBlocks.some(function (block) { return block === null || block === void 0 ? void 0 : block.includes(value); });\n        // check if message is already  markdown\n        var noParsingNeeded = markdownLinks &&\n            markdownLinks.filter(function (text) {\n                var strippedHref = href === null || href === void 0 ? void 0 : href.replace(detectHttp, '');\n                var strippedText = text === null || text === void 0 ? void 0 : text.replace(detectHttp, '');\n                if (!strippedHref || !strippedText)\n                    return false;\n                return strippedHref.includes(strippedText) || strippedText.includes(strippedHref);\n            });\n        if (noParsingNeeded.length > 0 || linkIsInBlock)\n            return;\n        var displayLink = type === 'email' ? value : value.replace(detectHttp, '');\n        newText = newText.replace(new RegExp(escapeRegExp(value), 'g'), \"[\" + displayLink + \"](\" + encodeURI(href) + \")\");\n    });\n    var plugins = [emojiMarkdownPlugin];\n    if (mentioned_users === null || mentioned_users === void 0 ? void 0 : mentioned_users.length) {\n        plugins.push(mentionsMarkdownPlugin(mentioned_users));\n    }\n    var renderers = __assign(__assign({ mention: Mention }, markDownRenderers), options.customMarkDownRenderers);\n    return (React.createElement(ReactMarkdown, { allowedTypes: allowedMarkups, escapeHtml: true, plugins: plugins, renderers: renderers, source: newText, transformLinkUri: function (uri) {\n            return uri.startsWith('app://') ? uri : RootReactMarkdown.uriTransformer(uri);\n        }, unwrapDisallowed: true }));\n};\nexport function escapeRegExp(text) {\n    return text.replace(/[-[\\]{}()*+?.,\\\\^$|#]/g, '\\\\$&');\n}\nfunction S4() {\n    return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n}\n// https://stackoverflow.com/a/6860916/2570866\nexport function generateRandomId() {\n    // prettier-ignore\n    return (S4() + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + \"-\" + S4() + S4() + S4());\n}\nexport var smartRender = function (ElementOrComponentOrLiteral, props, fallback) {\n    if (ElementOrComponentOrLiteral === undefined && fallback) {\n        ElementOrComponentOrLiteral = fallback;\n    }\n    if (React.isValidElement(ElementOrComponentOrLiteral)) {\n        // Flow cast through any, to make flow believe it's a React.Element\n        var element = ElementOrComponentOrLiteral;\n        return element;\n    }\n    // Flow cast through any to remove React.Element after previous check\n    var ComponentOrLiteral = ElementOrComponentOrLiteral;\n    if (typeof ComponentOrLiteral === 'string' ||\n        typeof ComponentOrLiteral === 'number' ||\n        typeof ComponentOrLiteral === 'boolean' ||\n        ComponentOrLiteral == null) {\n        return ComponentOrLiteral;\n    }\n    return React.createElement(ComponentOrLiteral, __assign({}, props));\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}
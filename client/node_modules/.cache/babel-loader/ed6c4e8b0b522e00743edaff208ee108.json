{"ast":null,"code":"import { useCallback, useEffect, useRef } from 'react';\nexport var useEmojiPicker = function (state, dispatch, insertText) {\n  var emojiPickerRef = useRef(null);\n  var closeEmojiPicker = useCallback(function (event) {\n    if (emojiPickerRef.current && !emojiPickerRef.current.contains(event.target)) {\n      dispatch({\n        type: 'setEmojiPickerIsOpen',\n        value: false\n      });\n    }\n  }, [emojiPickerRef]);\n  var openEmojiPicker = useCallback(function (event) {\n    dispatch({\n      type: 'setEmojiPickerIsOpen',\n      value: true\n    });\n    // Prevent event from bubbling to document, so the close handler is never called for this event\n    event.stopPropagation();\n  }, []);\n  var handleEmojiKeyDown = function (event) {\n    if (event.key === ' ' || event.key === 'Enter' || event.key === 'Spacebar') {\n      event.preventDefault();\n      /**\n       * TODO: fix the below at some point because this type casting is wrong\n       * and just forced to not have warnings currently with the unknown casting\n       */\n      openEmojiPicker(event);\n    }\n  };\n  var handleEmojiEscape = function (event) {\n    if (event.key === 'Escape') {\n      dispatch({\n        type: 'setEmojiPickerIsOpen',\n        value: false\n      });\n    }\n  };\n  useEffect(function () {\n    if (state.emojiPickerIsOpen) {\n      document.addEventListener('click', closeEmojiPicker, false);\n      document.addEventListener('keydown', handleEmojiEscape);\n    }\n    return function () {\n      document.removeEventListener('click', closeEmojiPicker, false);\n      document.removeEventListener('keydown', handleEmojiEscape);\n    };\n  }, [closeEmojiPicker, state.emojiPickerIsOpen]);\n  var onSelectEmoji = useCallback(function (emoji) {\n    return insertText(emoji.native);\n  }, [insertText]);\n  return {\n    closeEmojiPicker: closeEmojiPicker,\n    emojiPickerRef: emojiPickerRef,\n    handleEmojiKeyDown: handleEmojiKeyDown,\n    onSelectEmoji: onSelectEmoji,\n    openEmojiPicker: openEmojiPicker\n  };\n};","map":{"version":3,"names":["useCallback","useEffect","useRef","useEmojiPicker","state","dispatch","insertText","emojiPickerRef","closeEmojiPicker","event","current","contains","target","type","value","openEmojiPicker","stopPropagation","handleEmojiKeyDown","key","preventDefault","handleEmojiEscape","emojiPickerIsOpen","document","addEventListener","removeEventListener","onSelectEmoji","emoji","native"],"sources":["C:/Users/alekh/Desktop/Medical-App/client/node_modules/stream-chat-react/dist/components/MessageInput/hooks/useEmojiPicker.js"],"sourcesContent":["import { useCallback, useEffect, useRef } from 'react';\nexport var useEmojiPicker = function (state, dispatch, insertText) {\n    var emojiPickerRef = useRef(null);\n    var closeEmojiPicker = useCallback(function (event) {\n        if (emojiPickerRef.current && !emojiPickerRef.current.contains(event.target)) {\n            dispatch({\n                type: 'setEmojiPickerIsOpen',\n                value: false,\n            });\n        }\n    }, [emojiPickerRef]);\n    var openEmojiPicker = useCallback(function (event) {\n        dispatch({\n            type: 'setEmojiPickerIsOpen',\n            value: true,\n        });\n        // Prevent event from bubbling to document, so the close handler is never called for this event\n        event.stopPropagation();\n    }, []);\n    var handleEmojiKeyDown = function (event) {\n        if (event.key === ' ' || event.key === 'Enter' || event.key === 'Spacebar') {\n            event.preventDefault();\n            /**\n             * TODO: fix the below at some point because this type casting is wrong\n             * and just forced to not have warnings currently with the unknown casting\n             */\n            openEmojiPicker(event);\n        }\n    };\n    var handleEmojiEscape = function (event) {\n        if (event.key === 'Escape') {\n            dispatch({\n                type: 'setEmojiPickerIsOpen',\n                value: false,\n            });\n        }\n    };\n    useEffect(function () {\n        if (state.emojiPickerIsOpen) {\n            document.addEventListener('click', closeEmojiPicker, false);\n            document.addEventListener('keydown', handleEmojiEscape);\n        }\n        return function () {\n            document.removeEventListener('click', closeEmojiPicker, false);\n            document.removeEventListener('keydown', handleEmojiEscape);\n        };\n    }, [closeEmojiPicker, state.emojiPickerIsOpen]);\n    var onSelectEmoji = useCallback(function (emoji) { return insertText(emoji.native); }, [\n        insertText,\n    ]);\n    return {\n        closeEmojiPicker: closeEmojiPicker,\n        emojiPickerRef: emojiPickerRef,\n        handleEmojiKeyDown: handleEmojiKeyDown,\n        onSelectEmoji: onSelectEmoji,\n        openEmojiPicker: openEmojiPicker,\n    };\n};\n"],"mappings":"AAAA,SAASA,WAAW,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACtD,OAAO,IAAIC,cAAc,GAAG,SAAAA,CAAUC,KAAK,EAAEC,QAAQ,EAAEC,UAAU,EAAE;EAC/D,IAAIC,cAAc,GAAGL,MAAM,CAAC,IAAI,CAAC;EACjC,IAAIM,gBAAgB,GAAGR,WAAW,CAAC,UAAUS,KAAK,EAAE;IAChD,IAAIF,cAAc,CAACG,OAAO,IAAI,CAACH,cAAc,CAACG,OAAO,CAACC,QAAQ,CAACF,KAAK,CAACG,MAAM,CAAC,EAAE;MAC1EP,QAAQ,CAAC;QACLQ,IAAI,EAAE,sBAAsB;QAC5BC,KAAK,EAAE;MACX,CAAC,CAAC;IACN;EACJ,CAAC,EAAE,CAACP,cAAc,CAAC,CAAC;EACpB,IAAIQ,eAAe,GAAGf,WAAW,CAAC,UAAUS,KAAK,EAAE;IAC/CJ,QAAQ,CAAC;MACLQ,IAAI,EAAE,sBAAsB;MAC5BC,KAAK,EAAE;IACX,CAAC,CAAC;IACF;IACAL,KAAK,CAACO,eAAe,CAAC,CAAC;EAC3B,CAAC,EAAE,EAAE,CAAC;EACN,IAAIC,kBAAkB,GAAG,SAAAA,CAAUR,KAAK,EAAE;IACtC,IAAIA,KAAK,CAACS,GAAG,KAAK,GAAG,IAAIT,KAAK,CAACS,GAAG,KAAK,OAAO,IAAIT,KAAK,CAACS,GAAG,KAAK,UAAU,EAAE;MACxET,KAAK,CAACU,cAAc,CAAC,CAAC;MACtB;AACZ;AACA;AACA;MACYJ,eAAe,CAACN,KAAK,CAAC;IAC1B;EACJ,CAAC;EACD,IAAIW,iBAAiB,GAAG,SAAAA,CAAUX,KAAK,EAAE;IACrC,IAAIA,KAAK,CAACS,GAAG,KAAK,QAAQ,EAAE;MACxBb,QAAQ,CAAC;QACLQ,IAAI,EAAE,sBAAsB;QAC5BC,KAAK,EAAE;MACX,CAAC,CAAC;IACN;EACJ,CAAC;EACDb,SAAS,CAAC,YAAY;IAClB,IAAIG,KAAK,CAACiB,iBAAiB,EAAE;MACzBC,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAEf,gBAAgB,EAAE,KAAK,CAAC;MAC3Dc,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAEH,iBAAiB,CAAC;IAC3D;IACA,OAAO,YAAY;MACfE,QAAQ,CAACE,mBAAmB,CAAC,OAAO,EAAEhB,gBAAgB,EAAE,KAAK,CAAC;MAC9Dc,QAAQ,CAACE,mBAAmB,CAAC,SAAS,EAAEJ,iBAAiB,CAAC;IAC9D,CAAC;EACL,CAAC,EAAE,CAACZ,gBAAgB,EAAEJ,KAAK,CAACiB,iBAAiB,CAAC,CAAC;EAC/C,IAAII,aAAa,GAAGzB,WAAW,CAAC,UAAU0B,KAAK,EAAE;IAAE,OAAOpB,UAAU,CAACoB,KAAK,CAACC,MAAM,CAAC;EAAE,CAAC,EAAE,CACnFrB,UAAU,CACb,CAAC;EACF,OAAO;IACHE,gBAAgB,EAAEA,gBAAgB;IAClCD,cAAc,EAAEA,cAAc;IAC9BU,kBAAkB,EAAEA,kBAAkB;IACtCQ,aAAa,EAAEA,aAAa;IAC5BV,eAAe,EAAEA;EACrB,CAAC;AACL,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import React, { useCallback, useState } from 'react';\nimport { MESSAGE_ACTIONS } from '../Message/utils';\nimport { useChannelActionContext } from '../../context/ChannelActionContext';\nimport { useMessageContext } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar CustomMessageActionsList = function (props) {\n  var customMessageActions = props.customMessageActions,\n    message = props.message;\n  var customActionsArray = Object.keys(customMessageActions);\n  return React.createElement(React.Fragment, null, customActionsArray.map(function (customAction) {\n    var customHandler = customMessageActions[customAction];\n    return React.createElement(\"button\", {\n      key: customAction,\n      onClick: function (event) {\n        return customHandler(message, event);\n      }\n    }, React.createElement(\"li\", {\n      className: 'str-chat__message-actions-list-item'\n    }, customAction));\n  }));\n};\nvar UnMemoizedMessageActionsBox = function (props) {\n  var getMessageActions = props.getMessageActions,\n    handleDelete = props.handleDelete,\n    handleEdit = props.handleEdit,\n    handleFlag = props.handleFlag,\n    handleMute = props.handleMute,\n    handlePin = props.handlePin,\n    isUserMuted = props.isUserMuted,\n    mine = props.mine,\n    _a = props.open,\n    open = _a === void 0 ? false : _a;\n  var setQuotedMessage = useChannelActionContext().setQuotedMessage;\n  var _b = useMessageContext(),\n    customMessageActions = _b.customMessageActions,\n    message = _b.message,\n    messageListRect = _b.messageListRect;\n  var t = useTranslationContext().t;\n  var _c = useState(false),\n    reverse = _c[0],\n    setReverse = _c[1];\n  var messageActions = getMessageActions();\n  var checkIfReverse = useCallback(function (containerElement) {\n    if (!containerElement) {\n      setReverse(false);\n      return;\n    }\n    if (open) {\n      var containerRect = containerElement.getBoundingClientRect();\n      if (mine) {\n        setReverse(!!messageListRect && containerRect.left < messageListRect.left);\n      } else {\n        setReverse(!!messageListRect && containerRect.right + 5 > messageListRect.right);\n      }\n    }\n  }, [messageListRect, mine, open]);\n  var handleQuote = function () {\n    setQuotedMessage(message);\n    var elements = document.getElementsByClassName('str-chat__textarea__textarea');\n    var textarea = elements.item(0);\n    if (textarea instanceof HTMLTextAreaElement) {\n      textarea.focus();\n    }\n  };\n  return React.createElement(\"div\", {\n    className: \"str-chat__message-actions-box\\n        \" + (open ? 'str-chat__message-actions-box--open' : '') + \"\\n        \" + (mine ? 'str-chat__message-actions-box--mine' : '') + \"\\n        \" + (reverse ? 'str-chat__message-actions-box--reverse' : '') + \"\\n      \",\n    \"data-testid\": 'message-actions-box',\n    ref: checkIfReverse\n  }, React.createElement(\"ul\", {\n    className: 'str-chat__message-actions-list'\n  }, customMessageActions && React.createElement(CustomMessageActionsList, {\n    customMessageActions: customMessageActions,\n    message: message\n  }), messageActions.indexOf(MESSAGE_ACTIONS.quote) > -1 && !message.parent_id && !message.quoted_message && React.createElement(\"button\", {\n    onClick: handleQuote\n  }, React.createElement(\"li\", {\n    className: 'str-chat__message-actions-list-item'\n  }, t('Reply'))), messageActions.indexOf(MESSAGE_ACTIONS.pin) > -1 && !message.parent_id && React.createElement(\"button\", {\n    onClick: handlePin\n  }, React.createElement(\"li\", {\n    className: 'str-chat__message-actions-list-item'\n  }, !message.pinned ? t('Pin') : t('Unpin'))), messageActions.indexOf(MESSAGE_ACTIONS.flag) > -1 && React.createElement(\"button\", {\n    onClick: handleFlag\n  }, React.createElement(\"li\", {\n    className: 'str-chat__message-actions-list-item'\n  }, t('Flag'))), messageActions.indexOf(MESSAGE_ACTIONS.mute) > -1 && React.createElement(\"button\", {\n    onClick: handleMute\n  }, React.createElement(\"li\", {\n    className: 'str-chat__message-actions-list-item'\n  }, isUserMuted() ? t('Unmute') : t('Mute'))), messageActions.indexOf(MESSAGE_ACTIONS.edit) > -1 && React.createElement(\"button\", {\n    onClick: handleEdit\n  }, React.createElement(\"li\", {\n    className: 'str-chat__message-actions-list-item'\n  }, t('Edit Message'))), messageActions.indexOf(MESSAGE_ACTIONS.delete) > -1 && React.createElement(\"button\", {\n    onClick: handleDelete\n  }, React.createElement(\"li\", {\n    className: 'str-chat__message-actions-list-item'\n  }, t('Delete')))));\n};\n/**\n * A popup box that displays the available actions on a message, such edit, delete, pin, etc.\n */\nexport var MessageActionsBox = React.memo(UnMemoizedMessageActionsBox);","map":{"version":3,"names":["React","useCallback","useState","MESSAGE_ACTIONS","useChannelActionContext","useMessageContext","useTranslationContext","CustomMessageActionsList","props","customMessageActions","message","customActionsArray","Object","keys","createElement","Fragment","map","customAction","customHandler","key","onClick","event","className","UnMemoizedMessageActionsBox","getMessageActions","handleDelete","handleEdit","handleFlag","handleMute","handlePin","isUserMuted","mine","_a","open","setQuotedMessage","_b","messageListRect","t","_c","reverse","setReverse","messageActions","checkIfReverse","containerElement","containerRect","getBoundingClientRect","left","right","handleQuote","elements","document","getElementsByClassName","textarea","item","HTMLTextAreaElement","focus","ref","indexOf","quote","parent_id","quoted_message","pin","pinned","flag","mute","edit","delete","MessageActionsBox","memo"],"sources":["C:/Users/alekh/Desktop/Medical-App/client/node_modules/stream-chat-react/dist/components/MessageActions/MessageActionsBox.js"],"sourcesContent":["import React, { useCallback, useState } from 'react';\nimport { MESSAGE_ACTIONS } from '../Message/utils';\nimport { useChannelActionContext } from '../../context/ChannelActionContext';\nimport { useMessageContext, } from '../../context/MessageContext';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar CustomMessageActionsList = function (props) {\n    var customMessageActions = props.customMessageActions, message = props.message;\n    var customActionsArray = Object.keys(customMessageActions);\n    return (React.createElement(React.Fragment, null, customActionsArray.map(function (customAction) {\n        var customHandler = customMessageActions[customAction];\n        return (React.createElement(\"button\", { key: customAction, onClick: function (event) { return customHandler(message, event); } },\n            React.createElement(\"li\", { className: 'str-chat__message-actions-list-item' }, customAction)));\n    })));\n};\nvar UnMemoizedMessageActionsBox = function (props) {\n    var getMessageActions = props.getMessageActions, handleDelete = props.handleDelete, handleEdit = props.handleEdit, handleFlag = props.handleFlag, handleMute = props.handleMute, handlePin = props.handlePin, isUserMuted = props.isUserMuted, mine = props.mine, _a = props.open, open = _a === void 0 ? false : _a;\n    var setQuotedMessage = useChannelActionContext().setQuotedMessage;\n    var _b = useMessageContext(), customMessageActions = _b.customMessageActions, message = _b.message, messageListRect = _b.messageListRect;\n    var t = useTranslationContext().t;\n    var _c = useState(false), reverse = _c[0], setReverse = _c[1];\n    var messageActions = getMessageActions();\n    var checkIfReverse = useCallback(function (containerElement) {\n        if (!containerElement) {\n            setReverse(false);\n            return;\n        }\n        if (open) {\n            var containerRect = containerElement.getBoundingClientRect();\n            if (mine) {\n                setReverse(!!messageListRect && containerRect.left < messageListRect.left);\n            }\n            else {\n                setReverse(!!messageListRect && containerRect.right + 5 > messageListRect.right);\n            }\n        }\n    }, [messageListRect, mine, open]);\n    var handleQuote = function () {\n        setQuotedMessage(message);\n        var elements = document.getElementsByClassName('str-chat__textarea__textarea');\n        var textarea = elements.item(0);\n        if (textarea instanceof HTMLTextAreaElement) {\n            textarea.focus();\n        }\n    };\n    return (React.createElement(\"div\", { className: \"str-chat__message-actions-box\\n        \" + (open ? 'str-chat__message-actions-box--open' : '') + \"\\n        \" + (mine ? 'str-chat__message-actions-box--mine' : '') + \"\\n        \" + (reverse ? 'str-chat__message-actions-box--reverse' : '') + \"\\n      \", \"data-testid\": 'message-actions-box', ref: checkIfReverse },\n        React.createElement(\"ul\", { className: 'str-chat__message-actions-list' },\n            customMessageActions && (React.createElement(CustomMessageActionsList, { customMessageActions: customMessageActions, message: message })),\n            messageActions.indexOf(MESSAGE_ACTIONS.quote) > -1 &&\n                !message.parent_id &&\n                !message.quoted_message && (React.createElement(\"button\", { onClick: handleQuote },\n                React.createElement(\"li\", { className: 'str-chat__message-actions-list-item' }, t('Reply')))),\n            messageActions.indexOf(MESSAGE_ACTIONS.pin) > -1 && !message.parent_id && (React.createElement(\"button\", { onClick: handlePin },\n                React.createElement(\"li\", { className: 'str-chat__message-actions-list-item' }, !message.pinned ? t('Pin') : t('Unpin')))),\n            messageActions.indexOf(MESSAGE_ACTIONS.flag) > -1 && (React.createElement(\"button\", { onClick: handleFlag },\n                React.createElement(\"li\", { className: 'str-chat__message-actions-list-item' }, t('Flag')))),\n            messageActions.indexOf(MESSAGE_ACTIONS.mute) > -1 && (React.createElement(\"button\", { onClick: handleMute },\n                React.createElement(\"li\", { className: 'str-chat__message-actions-list-item' }, isUserMuted() ? t('Unmute') : t('Mute')))),\n            messageActions.indexOf(MESSAGE_ACTIONS.edit) > -1 && (React.createElement(\"button\", { onClick: handleEdit },\n                React.createElement(\"li\", { className: 'str-chat__message-actions-list-item' }, t('Edit Message')))),\n            messageActions.indexOf(MESSAGE_ACTIONS.delete) > -1 && (React.createElement(\"button\", { onClick: handleDelete },\n                React.createElement(\"li\", { className: 'str-chat__message-actions-list-item' }, t('Delete')))))));\n};\n/**\n * A popup box that displays the available actions on a message, such edit, delete, pin, etc.\n */\nexport var MessageActionsBox = React.memo(UnMemoizedMessageActionsBox);\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}
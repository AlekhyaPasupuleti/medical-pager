{"ast":null,"code":"import React, { useCallback, useEffect, useState } from 'react';\nimport { isChannel } from './utils';\nimport { Avatar } from '../Avatar/Avatar';\nimport { useBreakpoint } from '../Message/hooks/useBreakpoint';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar DefaultDropdownContainer = function (props) {\n  var focusedUser = props.focusedUser,\n    results = props.results,\n    _a = props.SearchResultItem,\n    SearchResultItem = _a === void 0 ? DefaultSearchResultItem : _a,\n    selectResult = props.selectResult;\n  return React.createElement(\"div\", null, results.map(function (result, index) {\n    return React.createElement(SearchResultItem, {\n      focusedUser: focusedUser,\n      index: index,\n      key: index,\n      result: result,\n      selectResult: selectResult\n    });\n  }));\n};\nvar DefaultSearchResultItem = function (props) {\n  var _a;\n  var focusedUser = props.focusedUser,\n    index = props.index,\n    result = props.result,\n    selectResult = props.selectResult;\n  var focused = focusedUser === index;\n  if (isChannel(result)) {\n    var channel_1 = result;\n    return React.createElement(\"div\", {\n      className: \"str-chat__channel-search-result \" + (focused ? 'focused' : ''),\n      onClick: function () {\n        return selectResult(channel_1);\n      }\n    }, React.createElement(\"div\", {\n      className: 'result-hashtag'\n    }, \"#\"), React.createElement(\"p\", {\n      className: 'channel-search__result-text'\n    }, (_a = channel_1.data) === null || _a === void 0 ? void 0 : _a.name));\n  } else {\n    return React.createElement(\"div\", {\n      className: \"str-chat__channel-search-result \" + (focused ? 'focused' : ''),\n      onClick: function () {\n        return selectResult(result);\n      }\n    }, React.createElement(Avatar, {\n      image: result.image,\n      user: result\n    }), result.name || result.id);\n  }\n};\nexport var SearchResults = function (props) {\n  var _a = props.DropdownContainer,\n    DropdownContainer = _a === void 0 ? DefaultDropdownContainer : _a,\n    popupResults = props.popupResults,\n    results = props.results,\n    searching = props.searching,\n    SearchEmpty = props.SearchEmpty,\n    SearchResultsHeader = props.SearchResultsHeader,\n    SearchLoading = props.SearchLoading,\n    _b = props.SearchResultItem,\n    SearchResultItem = _b === void 0 ? DefaultSearchResultItem : _b,\n    selectResult = props.selectResult;\n  var t = useTranslationContext().t;\n  var _c = useState(),\n    focusedUser = _c[0],\n    setFocusedUser = _c[1];\n  var device = useBreakpoint().device;\n  var containerStyle = popupResults && device === 'full' ? 'popup' : 'inline';\n  var ResultsContainer = function (_a) {\n    var children = _a.children;\n    return React.createElement(\"div\", {\n      className: \"str-chat__channel-search-container \" + containerStyle\n    }, children);\n  };\n  var handleKeyDown = useCallback(function (event) {\n    if (event.key === 'ArrowUp') {\n      setFocusedUser(function (prevFocused) {\n        if (prevFocused === undefined) return 0;\n        return prevFocused === 0 ? results.length - 1 : prevFocused - 1;\n      });\n    }\n    if (event.key === 'ArrowDown') {\n      setFocusedUser(function (prevFocused) {\n        if (prevFocused === undefined) return 0;\n        return prevFocused === results.length - 1 ? 0 : prevFocused + 1;\n      });\n    }\n    if (event.key === 'Enter') {\n      event.preventDefault();\n      if (focusedUser !== undefined) {\n        selectResult(results[focusedUser]);\n        return setFocusedUser(undefined);\n      }\n    }\n  }, [focusedUser]);\n  useEffect(function () {\n    document.addEventListener('keydown', handleKeyDown, false);\n    return function () {\n      return document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [handleKeyDown]);\n  if (searching) {\n    return React.createElement(ResultsContainer, null, SearchLoading ? React.createElement(SearchLoading, null) : React.createElement(\"div\", {\n      className: 'str-chat__channel-search-container-searching'\n    }, t('Searching...')));\n  }\n  if (!results.length) {\n    return React.createElement(ResultsContainer, null, SearchEmpty ? React.createElement(SearchEmpty, null) : React.createElement(\"div\", {\n      className: 'str-chat__channel-search-container-empty'\n    }, t('No results found')));\n  }\n  return React.createElement(ResultsContainer, null, SearchResultsHeader && React.createElement(SearchResultsHeader, null), React.createElement(DropdownContainer, {\n    focusedUser: focusedUser,\n    results: results,\n    SearchResultItem: SearchResultItem,\n    selectResult: selectResult\n  }));\n};","map":{"version":3,"names":["React","useCallback","useEffect","useState","isChannel","Avatar","useBreakpoint","useTranslationContext","DefaultDropdownContainer","props","focusedUser","results","_a","SearchResultItem","DefaultSearchResultItem","selectResult","createElement","map","result","index","key","focused","channel_1","className","onClick","data","name","image","user","id","SearchResults","DropdownContainer","popupResults","searching","SearchEmpty","SearchResultsHeader","SearchLoading","_b","t","_c","setFocusedUser","device","containerStyle","ResultsContainer","children","handleKeyDown","event","prevFocused","undefined","length","preventDefault","document","addEventListener","removeEventListener"],"sources":["C:/Users/alekh/Desktop/Medical-App/client/node_modules/stream-chat-react/dist/components/ChannelSearch/SearchResults.js"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport { isChannel } from './utils';\nimport { Avatar } from '../Avatar/Avatar';\nimport { useBreakpoint } from '../Message/hooks/useBreakpoint';\nimport { useTranslationContext } from '../../context/TranslationContext';\nvar DefaultDropdownContainer = function (props) {\n    var focusedUser = props.focusedUser, results = props.results, _a = props.SearchResultItem, SearchResultItem = _a === void 0 ? DefaultSearchResultItem : _a, selectResult = props.selectResult;\n    return (React.createElement(\"div\", null, results.map(function (result, index) { return (React.createElement(SearchResultItem, { focusedUser: focusedUser, index: index, key: index, result: result, selectResult: selectResult })); })));\n};\nvar DefaultSearchResultItem = function (props) {\n    var _a;\n    var focusedUser = props.focusedUser, index = props.index, result = props.result, selectResult = props.selectResult;\n    var focused = focusedUser === index;\n    if (isChannel(result)) {\n        var channel_1 = result;\n        return (React.createElement(\"div\", { className: \"str-chat__channel-search-result \" + (focused ? 'focused' : ''), onClick: function () { return selectResult(channel_1); } },\n            React.createElement(\"div\", { className: 'result-hashtag' }, \"#\"),\n            React.createElement(\"p\", { className: 'channel-search__result-text' }, (_a = channel_1.data) === null || _a === void 0 ? void 0 : _a.name)));\n    }\n    else {\n        return (React.createElement(\"div\", { className: \"str-chat__channel-search-result \" + (focused ? 'focused' : ''), onClick: function () { return selectResult(result); } },\n            React.createElement(Avatar, { image: result.image, user: result }),\n            result.name || result.id));\n    }\n};\nexport var SearchResults = function (props) {\n    var _a = props.DropdownContainer, DropdownContainer = _a === void 0 ? DefaultDropdownContainer : _a, popupResults = props.popupResults, results = props.results, searching = props.searching, SearchEmpty = props.SearchEmpty, SearchResultsHeader = props.SearchResultsHeader, SearchLoading = props.SearchLoading, _b = props.SearchResultItem, SearchResultItem = _b === void 0 ? DefaultSearchResultItem : _b, selectResult = props.selectResult;\n    var t = useTranslationContext().t;\n    var _c = useState(), focusedUser = _c[0], setFocusedUser = _c[1];\n    var device = useBreakpoint().device;\n    var containerStyle = popupResults && device === 'full' ? 'popup' : 'inline';\n    var ResultsContainer = function (_a) {\n        var children = _a.children;\n        return (React.createElement(\"div\", { className: \"str-chat__channel-search-container \" + containerStyle }, children));\n    };\n    var handleKeyDown = useCallback(function (event) {\n        if (event.key === 'ArrowUp') {\n            setFocusedUser(function (prevFocused) {\n                if (prevFocused === undefined)\n                    return 0;\n                return prevFocused === 0 ? results.length - 1 : prevFocused - 1;\n            });\n        }\n        if (event.key === 'ArrowDown') {\n            setFocusedUser(function (prevFocused) {\n                if (prevFocused === undefined)\n                    return 0;\n                return prevFocused === results.length - 1 ? 0 : prevFocused + 1;\n            });\n        }\n        if (event.key === 'Enter') {\n            event.preventDefault();\n            if (focusedUser !== undefined) {\n                selectResult(results[focusedUser]);\n                return setFocusedUser(undefined);\n            }\n        }\n    }, [focusedUser]);\n    useEffect(function () {\n        document.addEventListener('keydown', handleKeyDown, false);\n        return function () { return document.removeEventListener('keydown', handleKeyDown); };\n    }, [handleKeyDown]);\n    if (searching) {\n        return (React.createElement(ResultsContainer, null, SearchLoading ? (React.createElement(SearchLoading, null)) : (React.createElement(\"div\", { className: 'str-chat__channel-search-container-searching' }, t('Searching...')))));\n    }\n    if (!results.length) {\n        return (React.createElement(ResultsContainer, null, SearchEmpty ? (React.createElement(SearchEmpty, null)) : (React.createElement(\"div\", { className: 'str-chat__channel-search-container-empty' }, t('No results found')))));\n    }\n    return (React.createElement(ResultsContainer, null,\n        SearchResultsHeader && React.createElement(SearchResultsHeader, null),\n        React.createElement(DropdownContainer, { focusedUser: focusedUser, results: results, SearchResultItem: SearchResultItem, selectResult: selectResult })));\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { MessageActionsBox } from './MessageActionsBox';\nimport { isUserMuted } from '../Message/utils';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useMessageContext } from '../../context/MessageContext';\nexport var MessageActions = function (props) {\n  var _a = props.customWrapperClass,\n    customWrapperClass = _a === void 0 ? '' : _a,\n    propGetMessageActions = props.getMessageActions,\n    propHandleDelete = props.handleDelete,\n    propHandleFlag = props.handleFlag,\n    propHandleMute = props.handleMute,\n    propHandlePin = props.handlePin,\n    inline = props.inline,\n    propMessage = props.message,\n    messageWrapperRef = props.messageWrapperRef,\n    mine = props.mine;\n  var mutes = useChatContext().mutes;\n  var _b = useMessageContext(),\n    contextGetMessageActions = _b.getMessageActions,\n    contextHandleDelete = _b.handleDelete,\n    contextHandleFlag = _b.handleFlag,\n    contextHandleMute = _b.handleMute,\n    contextHandlePin = _b.handlePin,\n    isMyMessage = _b.isMyMessage,\n    contextMessage = _b.message,\n    setEditingState = _b.setEditingState;\n  var getMessageActions = propGetMessageActions || contextGetMessageActions;\n  var handleDelete = propHandleDelete || contextHandleDelete;\n  var handleFlag = propHandleFlag || contextHandleFlag;\n  var handleMute = propHandleMute || contextHandleMute;\n  var handlePin = propHandlePin || contextHandlePin;\n  var message = propMessage || contextMessage;\n  var _c = useState(false),\n    actionsBoxOpen = _c[0],\n    setActionsBoxOpen = _c[1];\n  var isMuted = useCallback(function () {\n    return isUserMuted(message, mutes);\n  }, [message, mutes]);\n  var hideOptions = useCallback(function () {\n    return setActionsBoxOpen(false);\n  }, []);\n  var messageActions = getMessageActions();\n  var messageDeletedAt = !!(message === null || message === void 0 ? void 0 : message.deleted_at);\n  useEffect(function () {\n    if (messageWrapperRef === null || messageWrapperRef === void 0 ? void 0 : messageWrapperRef.current) {\n      messageWrapperRef.current.addEventListener('mouseleave', hideOptions);\n    }\n  }, [hideOptions, messageWrapperRef]);\n  useEffect(function () {\n    if (messageDeletedAt) {\n      document.removeEventListener('click', hideOptions);\n    }\n  }, [hideOptions, messageDeletedAt]);\n  useEffect(function () {\n    if (actionsBoxOpen) {\n      document.addEventListener('click', hideOptions);\n    } else {\n      document.removeEventListener('click', hideOptions);\n    }\n    return function () {\n      return document.removeEventListener('click', hideOptions);\n    };\n  }, [actionsBoxOpen, hideOptions]);\n  if (messageActions.length === 0) return null;\n  return React.createElement(MessageActionsWrapper, {\n    customWrapperClass: customWrapperClass,\n    inline: inline,\n    setActionsBoxOpen: setActionsBoxOpen\n  }, React.createElement(MessageActionsBox, {\n    getMessageActions: getMessageActions,\n    handleDelete: handleDelete,\n    handleEdit: setEditingState,\n    handleFlag: handleFlag,\n    handleMute: handleMute,\n    handlePin: handlePin,\n    isUserMuted: isMuted,\n    mine: mine ? mine() : isMyMessage(),\n    open: actionsBoxOpen\n  }), React.createElement(\"svg\", {\n    height: '4',\n    viewBox: '0 0 11 4',\n    width: '11',\n    xmlns: 'http://www.w3.org/2000/svg'\n  }, React.createElement(\"path\", {\n    d: 'M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z',\n    fillRule: 'nonzero'\n  })));\n};\nvar MessageActionsWrapper = function (props) {\n  var children = props.children,\n    customWrapperClass = props.customWrapperClass,\n    inline = props.inline,\n    setActionsBoxOpen = props.setActionsBoxOpen;\n  var defaultWrapperClass = 'str-chat__message-simple__actions__action str-chat__message-simple__actions__action--options';\n  var wrapperClass = customWrapperClass || defaultWrapperClass;\n  var onClickOptionsAction = function (event) {\n    event.stopPropagation();\n    setActionsBoxOpen(true);\n  };\n  var wrapperProps = {\n    className: wrapperClass,\n    'data-testid': 'message-actions',\n    onClick: onClickOptionsAction\n  };\n  if (inline) return React.createElement(\"span\", __assign({}, wrapperProps), children);\n  return React.createElement(\"div\", __assign({}, wrapperProps), children);\n};","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","React","useCallback","useEffect","useState","MessageActionsBox","isUserMuted","useChatContext","useMessageContext","MessageActions","props","_a","customWrapperClass","propGetMessageActions","getMessageActions","propHandleDelete","handleDelete","propHandleFlag","handleFlag","propHandleMute","handleMute","propHandlePin","handlePin","inline","propMessage","message","messageWrapperRef","mine","mutes","_b","contextGetMessageActions","contextHandleDelete","contextHandleFlag","contextHandleMute","contextHandlePin","isMyMessage","contextMessage","setEditingState","_c","actionsBoxOpen","setActionsBoxOpen","isMuted","hideOptions","messageActions","messageDeletedAt","deleted_at","current","addEventListener","document","removeEventListener","createElement","MessageActionsWrapper","handleEdit","open","height","viewBox","width","xmlns","d","fillRule","children","defaultWrapperClass","wrapperClass","onClickOptionsAction","event","stopPropagation","wrapperProps","className","onClick"],"sources":["C:/Users/alekh/Desktop/Medical-App/client/node_modules/stream-chat-react/dist/components/MessageActions/MessageActions.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { MessageActionsBox } from './MessageActionsBox';\nimport { isUserMuted } from '../Message/utils';\nimport { useChatContext } from '../../context/ChatContext';\nimport { useMessageContext } from '../../context/MessageContext';\nexport var MessageActions = function (props) {\n    var _a = props.customWrapperClass, customWrapperClass = _a === void 0 ? '' : _a, propGetMessageActions = props.getMessageActions, propHandleDelete = props.handleDelete, propHandleFlag = props.handleFlag, propHandleMute = props.handleMute, propHandlePin = props.handlePin, inline = props.inline, propMessage = props.message, messageWrapperRef = props.messageWrapperRef, mine = props.mine;\n    var mutes = useChatContext().mutes;\n    var _b = useMessageContext(), contextGetMessageActions = _b.getMessageActions, contextHandleDelete = _b.handleDelete, contextHandleFlag = _b.handleFlag, contextHandleMute = _b.handleMute, contextHandlePin = _b.handlePin, isMyMessage = _b.isMyMessage, contextMessage = _b.message, setEditingState = _b.setEditingState;\n    var getMessageActions = propGetMessageActions || contextGetMessageActions;\n    var handleDelete = propHandleDelete || contextHandleDelete;\n    var handleFlag = propHandleFlag || contextHandleFlag;\n    var handleMute = propHandleMute || contextHandleMute;\n    var handlePin = propHandlePin || contextHandlePin;\n    var message = propMessage || contextMessage;\n    var _c = useState(false), actionsBoxOpen = _c[0], setActionsBoxOpen = _c[1];\n    var isMuted = useCallback(function () { return isUserMuted(message, mutes); }, [message, mutes]);\n    var hideOptions = useCallback(function () { return setActionsBoxOpen(false); }, []);\n    var messageActions = getMessageActions();\n    var messageDeletedAt = !!(message === null || message === void 0 ? void 0 : message.deleted_at);\n    useEffect(function () {\n        if (messageWrapperRef === null || messageWrapperRef === void 0 ? void 0 : messageWrapperRef.current) {\n            messageWrapperRef.current.addEventListener('mouseleave', hideOptions);\n        }\n    }, [hideOptions, messageWrapperRef]);\n    useEffect(function () {\n        if (messageDeletedAt) {\n            document.removeEventListener('click', hideOptions);\n        }\n    }, [hideOptions, messageDeletedAt]);\n    useEffect(function () {\n        if (actionsBoxOpen) {\n            document.addEventListener('click', hideOptions);\n        }\n        else {\n            document.removeEventListener('click', hideOptions);\n        }\n        return function () { return document.removeEventListener('click', hideOptions); };\n    }, [actionsBoxOpen, hideOptions]);\n    if (messageActions.length === 0)\n        return null;\n    return (React.createElement(MessageActionsWrapper, { customWrapperClass: customWrapperClass, inline: inline, setActionsBoxOpen: setActionsBoxOpen },\n        React.createElement(MessageActionsBox, { getMessageActions: getMessageActions, handleDelete: handleDelete, handleEdit: setEditingState, handleFlag: handleFlag, handleMute: handleMute, handlePin: handlePin, isUserMuted: isMuted, mine: mine ? mine() : isMyMessage(), open: actionsBoxOpen }),\n        React.createElement(\"svg\", { height: '4', viewBox: '0 0 11 4', width: '11', xmlns: 'http://www.w3.org/2000/svg' },\n            React.createElement(\"path\", { d: 'M1.5 3a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm4 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3z', fillRule: 'nonzero' }))));\n};\nvar MessageActionsWrapper = function (props) {\n    var children = props.children, customWrapperClass = props.customWrapperClass, inline = props.inline, setActionsBoxOpen = props.setActionsBoxOpen;\n    var defaultWrapperClass = 'str-chat__message-simple__actions__action str-chat__message-simple__actions__action--options';\n    var wrapperClass = customWrapperClass || defaultWrapperClass;\n    var onClickOptionsAction = function (event) {\n        event.stopPropagation();\n        setActionsBoxOpen(true);\n    };\n    var wrapperProps = {\n        className: wrapperClass,\n        'data-testid': 'message-actions',\n        onClick: onClickOptionsAction,\n    };\n    if (inline)\n        return React.createElement(\"span\", __assign({}, wrapperProps), children);\n    return React.createElement(\"div\", __assign({}, wrapperProps), children);\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}